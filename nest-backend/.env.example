# ========================================
# Application Configuration
# ========================================
NODE_ENV=development
PORT=3000

# ========================================
# MongoDB Configuration
# ========================================
# Full MongoDB connection URI (recommended)
MONGO_URI=mongodb://vidigalcode:test1234@localhost:27017/ecommerce_orders?authSource=admin

# Individual MongoDB connection parameters (alternative)
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DATABASE=ecommerce_orders
MONGO_USERNAME=vidigalcode
MONGO_PASSWORD=test1234

# ========================================
# Redis Configuration (BullMQ Queue Backend)
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password # Uncomment if Redis has password

# ========================================
# Queue Processing Configuration
# ========================================
# Maximum number of orders to generate (1 million for challenge)
MAX_ORDERS=1000000

# Chunk size for order generation (larger = faster but more memory)
GENERATION_CHUNK_SIZE=25000

# Batch size for enqueueing NORMAL priority orders
NORMAL_ENQUEUE_BATCH_SIZE=25000

# Number of concurrent workers processing orders
ORDERS_QUEUE_CONCURRENCY=10

# Use bulk updates for better performance (true/false)
BULK_UPDATE_MODE=true

# ========================================
# Metrics Configuration (Optional)
# ========================================
# Enable Prometheus metrics endpoint at /metrics
ENABLE_METRICS=false

# ========================================
# CORS Configuration
# ========================================
# Frontend URL for CORS (adjust if frontend runs on different port)
CORS_ORIGIN=http://localhost:3001

# ========================================
# Logging Configuration
# ========================================
# Log levels: error, warn, log, debug, verbose
LOG_LEVEL=log

# ========================================
# Performance Tuning (Optional)
# ========================================
# Adjust these values based on your system resources

# Maximum time a job can run before being considered stuck (ms)
MAX_JOB_TIMEOUT=300000

# Health check interval for worker monitoring (ms)
HEALTH_CHECK_INTERVAL=15000

# Maximum number of active jobs to prevent memory issues
MAX_ACTIVE_JOBS=100